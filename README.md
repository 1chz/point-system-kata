# 포인트 시스템 설계 연습

## 쿠폰과 포인트의 차이

1. **사용 방식**
    - 쿠폰: 일회성, 사용 후 소멸
    - 포인트: 누적 사용 가능, 부분 사용 후 잔액 유지

2. **발급 방식**
    - 쿠폰: 특정 조건이나 이벤트에 따라 발급, 고유 코드 부여
    - 포인트: 구매 금액 비례 적립 또는 활동 보상으로 지급

3. **유효기간**
    - 쿠폰: 대부분 정해진 기간 내 사용
    - 포인트: 일반적으로 더 긴 유효기간, 때로는 무기한 사용 가능

4. **가치**
    - 쿠폰: 정해진 할인 금액이나 비율 (예: 5,000원 할인, 10% 할인)
    - 포인트: 일반적으로 화폐 가치와 연동 (예: 1포인트 = 1원)

5. **양도 가능성**
    - 쿠폰: 경우에 따라 타인에게 양도 가능
    - 포인트: 대부분 개인 계정에 귀속, 양도 불가

6. **사용 범위**
    - 쿠폰: 특정 상품, 카테고리, 최소 구매 금액 등 조건 존재
    - 포인트: 일반적으로 더 넓은 범위에서 자유롭게 사용 가능

7. **관리 방식**
    - 쿠폰: 발급, 사용, 만료 등 생명주기 관리 필요
    - 포인트: 적립, 사용, 소멸 등 지속적인 계정 잔액 관리 필요

## 포인트 시스템 설계 시 고려사항

1. **적립 정책**
    - 구매 금액 대비 적립률 설정
    - 특별 이벤트/프로모션 추가 적립
    - 회원 등급별 차등 적립률 적용

2. **사용 정책**
    - 최소/최대 사용 가능 포인트 설정
    - 포인트 사용 가능 상품 범위 정의
    - 포인트 부분 사용에 대한 고려
      - 예: 1,000원 상품을 1,500포인트로 구매 시, 500포인트 잔액 유지

3. **유효기간 관리**
    - 포인트 유효기간 설정
    - 유효기간 임박 알림 기능
    - 소멸 예정 포인트가 우선적으로 사용되어야 함
      - 예: 소멸예정인 1,000포인트와 소멸기간이 한참 남은 2,000포인트를 합쳐 총 3,000포인트가 있고, 500포인트를 사용한다면 소멸 예정인 1,000포인트에서 500포인트를 사용하고 500포인트의 잔액을 남겨야 힘 

4. **계정 관리**
    - 사용자별 포인트 잔액 추적
    - 포인트 이력 관리 (적립, 사용, 소멸)
    - 포인트 통합/분리 기능 (예: 가족 계정)

5. **보안 및 부정 사용 방지**
    - 포인트 적립/사용 로깅
    - 비정상 패턴 감지
    - 해킹 방지 보안 조치

6. **확장성**
    - 대량 트랜잭션 처리 능력
    - 피크 시간대 성능 관리
    - 데이터베이스 샤딩 고려

7. **정산 및 회계**
    - 포인트의 재무적 가치 산정
    - 포인트 적립에 따른 비용 처리
    - 미사용 포인트 회계 처리

8. **사용자 경험**
    - 실시간 포인트 잔액 조회
    - 포인트 사용 내역 확인
    - 포인트 적립/사용 알림 서비스

9. **파트너십 및 제휴**
    - 타 서비스와 포인트 연동
    - 제휴사 포인트 교환 시스템

10. **법적 요구사항**
    - 개인정보 보호법 준수
    - 포인트 관련 약관 관리
    - 세금 처리 (포인트를 현금성 자산으로 볼 경우)

11. **모니터링 및 분석**
    - 포인트 시스템 성능 모니터링
    - 사용자 행동 분석을 통한 마케팅 인사이트 도출

12. **백엔드 아키텍처**
    - 포인트 조회 성능을 위한 캐싱 전략
    - 모놀리식으로 감당키 어려운 대용량 트래픽을 대비한 마이크로서비스 아키텍처 고려

13. **테스트 및 품질 관리**
    - 다양한 시나리오에 대한 단위 테스트 및 통합 테스트
    - 부하 테스트를 통한 성능 검증

이러한 요소들을 고려하여 포인트 시스템을 설계하면 안정적이고 확장 가능한 시스템을 구축할 수 있다. 
특히 대규모 트래픽이 예상되는 경우, 미리 성능과 확장성에 중점을 두어 설계해야 한다.